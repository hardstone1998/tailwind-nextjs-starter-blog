# 博客编写指南

本指南将帮助您了解如何在这个 Next.js + Tailwind CSS 博客项目中编写自己的博客文章。

## 📁 博客文件位置

所有博客文章都存储在 `data/blog/` 目录下。您可以：

- **直接在 `data/blog/` 目录下创建 `.mdx` 文件**（推荐）
- **在 `data/blog/` 下创建子文件夹**，用于组织相关文章（例如：`data/blog/nested-route/my-post.mdx`）

## 📝 博客文章格式

### 1. 文件格式

博客文章使用 **MDX** 格式（Markdown + JSX），文件扩展名为 `.mdx`。

### 2. Frontmatter（前置元数据）

每篇博客文章的开头必须包含 frontmatter，格式如下：

```yaml
---
title: '文章标题'                    # 必需：文章标题
date: '2024-01-15'                  # 必需：发布日期（格式：YYYY-MM-DD）
lastmod: '2024-01-20'               # 可选：最后修改日期
tags: ['标签1', '标签2', '标签3']   # 可选：文章标签（数组）
draft: false                        # 可选：是否为草稿（true=草稿，不会在正式环境显示）
summary: '文章摘要'                 # 可选：文章摘要，显示在列表页
images: ['/static/images/xxx.jpg']  # 可选：文章图片（数组）
authors: ['default']                # 可选：作者列表（对应 data/authors 中的文件名）
layout: PostLayout                  # 可选：布局类型（PostLayout/PostSimple/PostBanner）
canonicalUrl: 'https://...'         # 可选：规范URL（用于SEO）
---
```

### 3. 内容编写

在 frontmatter 之后，您可以开始编写文章内容。支持：

- **标准 Markdown 语法**（标题、列表、链接、代码块等）
- **GitHub Flavored Markdown**（表格、任务列表等）
- **JSX 组件**（可以在 Markdown 中使用 React 组件）
- **数学公式**（通过 KaTeX）
- **代码高亮**（自动语法高亮）

## 📋 完整示例

创建一个新文件 `data/blog/my-first-post.mdx`：

```mdx
---
title: '我的第一篇博客文章'
date: '2024-01-15'
lastmod: '2024-01-20'
tags: ['教程', 'Next.js', '博客']
draft: false
summary: '这是我使用这个博客模板写的第一篇文章，介绍如何编写博客。'
images: ['/static/images/avatar.png']
authors: ['default']
layout: PostLayout
---

# 欢迎阅读我的博客

这是我的第一篇博客文章！

## 主要内容

这里可以写任何内容，支持：

- **粗体文本**
- *斜体文本*
- [链接](https://example.com)
- `代码片段`

### 代码示例

```javascript
function hello() {
  console.log('Hello, World!');
}
```

### 数学公式

支持 LaTeX 数学公式：

$$
E = mc^2
$$

## 总结

希望这篇文章对您有帮助！
```

## 🎨 支持的 Markdown 特性

### 标题

```markdown
# 一级标题
## 二级标题
### 三级标题
```

### 文本格式

```markdown
**粗体**
*斜体*
~~删除线~~
`代码`
```

### 列表

```markdown
- 无序列表项 1
- 无序列表项 2

1. 有序列表项 1
2. 有序列表项 2
```

### 链接和图片

```markdown
[链接文本](https://example.com)
![图片描述](/static/images/example.jpg)
```

### 代码块

使用三个反引号包裹代码，并指定语言：

````markdown
```javascript
const hello = 'world';
```
````

### 表格

```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 数据1 | 数据2 | 数据3 |
```

### GitHub 警告框

```markdown
> [!NOTE]
> 这是一个提示框

> [!WARNING]
> 这是一个警告框

> [!CAUTION]
> 这是一个注意框
```

## 📂 文件组织建议

### 方式一：扁平结构（简单）

直接在 `data/blog/` 下创建文件：

```
data/blog/
  ├── my-first-post.mdx
  ├── my-second-post.mdx
  └── my-third-post.mdx
```

### 方式二：嵌套结构（组织相关文章）

创建子文件夹来组织相关文章：

```
data/blog/
  ├── tutorial-series/
  │   ├── part-1.mdx
  │   ├── part-2.mdx
  │   └── part-3.mdx
  └── other-posts/
      └── standalone-post.mdx
```

**注意**：嵌套路由的 URL 会是 `/blog/tutorial-series/part-1`

## 🖼️ 图片管理

### 图片存储位置

将图片放在 `public/static/images/` 目录下。

### 在文章中使用图片

```markdown
![图片描述](/static/images/my-image.jpg)
```

或者使用相对路径（如果图片在文章同目录）：

```markdown
![图片描述](./my-image.jpg)
```

## 🏷️ 标签系统

### 添加标签

在 frontmatter 中添加 `tags` 字段：

```yaml
tags: ['Next.js', 'React', '教程']
```

### 标签页面

每个标签会自动生成一个标签页面，URL 格式为：`/tags/标签名`

## 👤 作者信息

### 默认作者

默认使用 `data/authors/default.mdx` 中定义的作者信息。

### 多作者支持

1. 在 `data/authors/` 目录下创建作者文件（如 `sparrowhawk.mdx`）
2. 在文章的 frontmatter 中指定：

```yaml
authors: ['default', 'sparrowhawk']
```

## 📅 日期格式

日期必须使用 `YYYY-MM-DD` 格式：

```yaml
date: '2024-01-15'  # ✅ 正确
date: '2024-1-5'     # ❌ 错误（月份和日期需要补零）
```

## 🚫 草稿模式

如果文章还在编写中，可以设置为草稿：

```yaml
draft: true
```

**注意**：
- 草稿在开发环境（`yarn dev`）中可见
- 草稿在正式环境（生产构建）中**不会显示**

## 🔄 查看效果

1. **启动开发服务器**：
   ```bash
   yarn dev
   ```

2. **访问博客列表**：
   打开浏览器访问 `http://localhost:3000/blog`

3. **访问具体文章**：
   如果文件是 `data/blog/my-first-post.mdx`，URL 会是：
   `http://localhost:3000/blog/my-first-post`

## 💡 实用技巧

### 1. 使用摘要

在 frontmatter 中添加 `summary` 字段，这会在博客列表页显示：

```yaml
summary: '这是文章的简短摘要，会显示在博客列表页'
```

### 2. 自定义布局

项目支持三种布局：

- `PostLayout`（默认）：两栏布局，包含元数据和作者信息
- `PostSimple`：简化版布局
- `PostBanner`：带横幅图片的布局

在 frontmatter 中指定：

```yaml
layout: PostBanner
```

### 3. SEO 优化

添加 `canonicalUrl` 用于 SEO：

```yaml
canonicalUrl: 'https://yourdomain.com/blog/my-post'
```

### 4. 文章图片

在 frontmatter 中添加 `images` 数组，这些图片会用于：

- 社交媒体分享（Open Graph）
- 文章预览

```yaml
images: ['/static/images/post-cover.jpg']
```

## ❓ 常见问题

### Q: 文章写好后看不到？

A: 检查以下几点：
1. 文件是否在 `data/blog/` 目录下
2. 文件扩展名是否为 `.mdx`
3. `draft` 是否为 `false`（或未设置）
4. 重启开发服务器

### Q: 如何修改文章？

A: 直接编辑 `.mdx` 文件，保存后页面会自动刷新（热重载）。

### Q: 支持中文吗？

A: 完全支持！标题、内容、标签都可以使用中文。

### Q: 如何删除文章？

A: 直接删除对应的 `.mdx` 文件即可。

## 📚 更多资源

- [Markdown 语法指南](https://www.markdownguide.org/)
- [MDX 文档](https://mdxjs.com/)
- [Contentlayer 文档](https://www.contentlayer.dev/)

---

**开始编写您的第一篇博客吧！** 🎉

